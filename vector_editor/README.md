# Векторный редактор на PySide6
Проект демонстрирует применение паттернов ООП и MVC в создании GUI приложений.
Для рисования объектов используется `QGraphicsView`, внутри которого `QGraphicsScene`.

## Функционал
- Создание фигур (прямоугольник, эллипс, линия)
- Группировка фигур
- Перетаскивание, удаление фигур с помощью мыши
- Отмена и возврат действий с помощью `QUndoStack`
- Редактирование объектов с помощью панели свойств (координат, цвета)
- Сохранение в формате JSON, PNG, JPG

## Запуск
Для запуска нужно клонировать репозиторий:
```commandline
git clone https://github.com/dylorone/it_semester3
```

Инициализировать venv:
```commandline
python -m venv .venv
```
Установить зависимости:
```commandline
pip install -r requirements.txt
```
И запустить `main.py`:
```commandline
python main.py
```

## Используемые паттерны
| Паттерн                   | Где применяется | Описание                                                                                                               |
|:--------------------------|:----------------|:-----------------------------------------------------------------------------------------------------------------------|
| **Model-View-Controller** | Общая структура | Разделение данных (`shapes.py`), логики (`app.py`) и отображения (`widgets/`, `ui/`).                                  |
| **State**                 | `logic/tools.py` | Логика инструментов (Selection, Creation) вынесена в отдельные классы. Холст делегирует события активному инструменту. |
| **Factory**               | `logic/factory.py` | Cоздание фигур из координат мыши или JSON-данных.                                                                      |
| **Composite**             | `logic/shapes.py` | Класс `Group` позволяет работать с группой объектов так же, как с одиночной фигурой.                                   |
| **Strategy**              | `logic/save_strategies.py` | Алгоритмы сохранения (JSON vs PNG) вынесены в отдельные стратегии.                                                     |
| **Observer**              | `ui/properties_panel.py` | Панель свойств подписывается на сигналы сцены и обновляется при изменении выделения.                                   |

## Структура проекта
```
vector_editor/
├── logic/
│   ├── commands.py                        # Классы для команд Qt Undo Framework
│   ├── factory.py                         # Фабрика создания фигур из JSON или координат 
│   ├── file_manager.py                    # Управление файлами JSON
│   ├── save_strategies.py                 # Способы сохранения файлов (JSON, PNG, JPG)
│   ├── shapes.py                          # Классы фигур (рисование, сериализация), группы
│   └── tools.py                           # Классы инструментов управления холстом (создание, выбор)
├── ui/
│   ├── properties_panel.py                # Панель свойств фигуры
│   └── tool_panel.py                      # Панель инструментов
├── widgets/
│   └── canvas.py                          # Виджет холста, наследующий QGraphicsScene и описывающий основную логику работы приложения
├── app.py                                 # Основоной layout приложения
└── main.py                                # Точка входа
```

## Сборка .exe
Для сборки exe файла используется PyInstaller:
```commandline
pyinstaller --noconfirm -wFn "Vector Editor" .\main.py
```
